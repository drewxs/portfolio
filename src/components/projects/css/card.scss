$primary: hsl(207, 19%, 9%);
$secondary: hsl(0, 0%, 100%);
$accent: #422a2a;
$padding: 1.5rem;

.card {
	color: $secondary;
	background-size: cover;
	padding: 10rem 0 0;
	width: 18.2vw;
	height: 12vh;
	margin: 0.7vw;
	border-radius: 0.5rem;
	overflow: hidden;
	transition: transform 500ms ease;
	line-height: 1.6;

	.card-content {
		padding: $padding;
		background: linear-gradient(
			hsla(0, 0%, 0%, 0),
			hsla(20, 0%, 0%, 0.3) 20%,
			hsla(0, 0%, 0%, 1)
		);

		.card-title {
			position: relative;
			width: max-content;
			text-overflow: ellipsis;

			&:after {
				content: '';
				position: absolute;
				height: 4px;
				width: calc(100% + #{$padding});
				left: calc(#{$padding} * -1);
				bottom: -5px;
				background: $accent;
				transform: scaleX(0);
				transform-origin: left;
				transition: transform 500ms ease;
			}
		}

		.card-body {
			color: rgba(255, 255, 255, 0.85);
		}

		.button {
			cursor: pointer;
			display: inline-block;
			text-decoration: none;
			color: $secondary;
			background-color: $accent;
			padding: 0.5em 1.25em;
			border-radius: 0.25em;
		}
	}
}

@media (hover) {
	.card {
		&:hover,
		&:focus-within {
			transform: scale(1.05);

			.card-content {
				transform: translateY(-6.5vh);
				transition-delay: 500ms;

				> *:not(.card-title) {
					opacity: 1;
					transition-delay: 750ms;
				}

				.card-title::after {
					transform: scaleX(1);
				}
			}
		}
		&:focus-within .card-content {
			transition-duration: 250ms;
		}

		.card-content {
			transform: translateY(3vh);
			transition: transform 500ms ease;

			> *:not(.card-title) {
				opacity: 0;
				transition: opacity 500ms linear;
			}
		}

		.button {
			&:hover,
			&:focus {
				background-color: $primary;
			}
		}
	}
}

@media only screen and (max-width: 1024px) {
	.card {
		margin: 1.3vw;
		width: 30vw;
		height: 7vw;

		.card-content {
			transform: translateY(-55%);

			.card-title {
				font-size: 2vw;
			}
			.card-body {
				font-size: 1.4vw;
			}
			.button {
				font-size: 1vw;
			}
		}
	}
}
@media only screen and (max-width: 768px) {
	.card {
		margin: 0.8vw;
		width: 31vw;
		height: 7vw;

		.card-content {
			transform: translateY(-65%);
		}
	}
}

.raven {
	background-image: url('/src/images/raven.png');
}
.zapr {
	background-image: url('/src/images/zapr.gif');
}
.ciel {
	background-image: url('/src/images/ciel.png');
}
.ravenunsupported {
	background-image: url('/src/images/raven(unsupported).png');
}
.digitclassification {
	background-image: url('/src/images/digitclassification.gif');
}
.objectdetection {
	background-image: url('/src/images/objectdetection.gif');
}
.plannr {
	background-image: url('/src/images/plannr.gif');
}
